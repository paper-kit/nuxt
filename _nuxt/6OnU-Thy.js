import{C as S,b as d,M as z,Q as M,f as n,g as l,n as g,j as s,i as x,K as F,h as p,az as I,aA as T,T as D,w as K,F as L,J as N,H as U,ak as $,t as j,_ as E}from"./D-aeMYpJ.js";const P={class:"pu-search__container"},R=["placeholder","disabled"],A={key:1,class:"pu-search__loading"},H={key:0,class:"pu-search__suggestions"},J=["onClick","onMouseenter"],O={key:0,class:"pu-search__suggestion-icon"},Q={class:"pu-search__suggestion-text"},q=S({__name:"PUSearch",props:{modelValue:{default:""},placeholder:{default:"Search..."},suggestions:{default:()=>[]},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},size:{default:"medium"},showClear:{type:Boolean,default:!0},customClass:{default:""}},emits:["update:modelValue","search","suggestion-select","clear"],setup(m,{emit:f}){const o=m,r=f,a=d(o.modelValue),h=d(),c=d(!1),u=d(-1),C=z(()=>["pu-search",`pu-search--${o.size}`,{"pu-search--focused":c.value,"pu-search--disabled":o.disabled}]),y=()=>{r("update:modelValue",a.value),c.value=!0,u.value=-1},k=()=>{o.suggestions.length>0&&(c.value=!0)},V=()=>{setTimeout(()=>{c.value=!1,u.value=-1},150)},w=()=>{u.value>=0&&o.suggestions[u.value]?_(o.suggestions[u.value]):r("search",a.value)},_=e=>{a.value=e.text,r("update:modelValue",e.text),r("suggestion-select",e),c.value=!1,h.value?.focus()},B=()=>{a.value="",r("update:modelValue",""),r("clear"),h.value?.focus()};return M(()=>o.modelValue,e=>{a.value=e}),(e,t)=>(l(),n("div",{class:g(["pu-search font-patrick",[C.value,e.customClass]])},[s("div",P,[t[3]||(t[3]=s("div",{class:"pu-search__icon"},[s("svg",{viewBox:"0 0 24 24",fill:"currentColor"},[s("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"})])],-1)),F(s("input",{ref_key:"inputRef",ref:h,"onUpdate:modelValue":t[0]||(t[0]=i=>a.value=i),type:"text",class:"pu-search__input",placeholder:e.placeholder,disabled:e.disabled,onInput:y,onFocus:k,onBlur:V,onKeydown:T(w,["enter"])},null,40,R),[[I,a.value]]),e.showClear&&a.value?(l(),n("button",{key:0,type:"button",class:"pu-search__clear",onClick:B},t[1]||(t[1]=[s("svg",{viewBox:"0 0 24 24",fill:"currentColor"},[s("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})],-1)]))):p("",!0),e.loading?(l(),n("div",A,t[2]||(t[2]=[s("div",{class:"pu-search__spinner"},null,-1)]))):p("",!0)]),x(D,{name:"suggestions"},{default:K(()=>[c.value&&e.suggestions.length>0?(l(),n("div",H,[(l(!0),n(L,null,N(e.suggestions,(i,v)=>(l(),n("div",{key:v,class:g(["pu-search__suggestion",{"pu-search__suggestion--highlighted":v===u.value}]),onClick:b=>_(i),onMouseenter:b=>u.value=v},[i.icon?(l(),n("div",O,[(l(),U($(i.icon)))])):p("",!0),s("span",Q,j(i.text),1)],42,J))),128))])):p("",!0)]),_:1})],2))}}),W=Object.assign(E(q,[["__scopeId","data-v-19991699"]]),{__name:"PUSearch"});export{W as _};
