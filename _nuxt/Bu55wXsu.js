import{C as D,b as v,L as f,P as O,o as R,e as W,f as l,g as a,n as _,j as r,G as b,t as k,i as S,T,w as I,h as y,aw as N,at as P,F as U,I as j,aa as A,ax as F,a4 as H,_ as G}from"./Dzv1hwYg.js";const K=["disabled"],q={class:"pu-dropdown__trigger-text"},J={class:"pu-dropdown__menu-content"},Q=["onClick"],X={key:0,class:"pu-dropdown__option-icon"},Y={class:"pu-dropdown__option-label"},Z=D({__name:"PUDropdown",props:{modelValue:{default:""},options:{default:()=>[]},placeholder:{default:"Select an option"},disabled:{type:Boolean,default:!1},size:{default:"medium"},customClass:{default:""}},emits:["update:modelValue","change"],setup(C,{emit:x}){const s=C,w=x,o=v(!1),d=v(),i=v(),B=f(()=>["pu-dropdown",`pu-dropdown--${s.size}`,{"pu-dropdown--open":o.value,"pu-dropdown--disabled":s.disabled}]),V=f(()=>s.options.find(n=>n.value===s.modelValue)?.label),L=f(()=>{if(!d.value)return{};const e=d.value.getBoundingClientRect(),n=window.innerHeight,t=window.innerWidth,u=n-e.bottom,E=e.top,M=u<200&&E>u;let c;M?c=`${e.top-4}px`:c=`${e.bottom+4}px`;let p=e.left;const m=Math.max(e.width,200);return p+m>t&&(p=Math.max(0,t-m-8)),{top:c,left:`${p}px`,minWidth:`${e.width}px`,maxWidth:`${Math.min(m,t-16)}px`,position:"fixed",zIndex:9999}}),$=async()=>{s.disabled||(o.value=!o.value,o.value&&(await H(),i.value&&(i.value.style.display="block")))},z=e=>{w("update:modelValue",e.value),w("change",e.value),o.value=!1},g=e=>{d.value&&i.value&&!d.value.contains(e.target)&&!i.value.contains(e.target)&&(o.value=!1)},h=e=>{e.key==="Escape"&&o.value&&(o.value=!1)};return O(()=>s.options,()=>{o.value&&(o.value=!1)}),R(()=>{document.addEventListener("click",g),document.addEventListener("keydown",h)}),W(()=>{document.removeEventListener("click",g),document.removeEventListener("keydown",h)}),(e,n)=>(a(),l("div",{class:_(["pu-dropdown font-patrick",[B.value,e.customClass]])},[r("button",{ref_key:"triggerRef",ref:d,type:"button",class:"pu-dropdown__trigger",disabled:e.disabled,onClick:$},[r("span",q,k(V.value||e.placeholder),1),(a(),l("svg",{class:_(["pu-dropdown__trigger-icon",{"pu-dropdown__trigger-icon--open":o.value}]),viewBox:"0 0 24 24",fill:"currentColor"},[...n[1]||(n[1]=[r("path",{d:"M7 10l5 5 5-5z"},null,-1)])],2))],8,K),(a(),b(F,{to:"body"},[S(T,{name:"dropdown"},{default:I(()=>[o.value?(a(),l("div",{key:0,ref_key:"menuRef",ref:i,class:"pu-dropdown__menu",style:P(L.value),onClick:n[0]||(n[0]=N(()=>{},["stop"]))},[r("div",J,[(a(!0),l(U,null,j(e.options,t=>(a(),l("div",{key:t.value,class:_(["pu-dropdown__option",{"pu-dropdown__option--selected":t.value===e.modelValue}]),onClick:u=>z(t)},[t.icon?(a(),l("div",X,[(a(),b(A(t.icon)))])):y("",!0),r("span",Y,k(t.label),1)],10,Q))),128))])],4)):y("",!0)]),_:1})]))],2))}}),oe=Object.assign(G(Z,[["__scopeId","data-v-ea84fe51"]]),{__name:"PUDropdown"});export{oe as _};
